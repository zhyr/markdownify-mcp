Metadata-Version: 2.4
Name: ocr
Version: 0.1.0
Summary: Add your description here
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: markitdown>=0.0.1a3
Dynamic: license-file

# Markdownify MCP Server

Markdownify是一个Model Context Protocol (MCP)服务器，用于将各种文件类型和Web内容转换为Markdown格式。它提供一系列工具，可将PDF、图像、音频文件、网页等转换为易于阅读和共享的Markdown文本。

<a href="https://glama.ai/mcp/servers/bn5q4b0ett"><img width="380" height="200" src="https://glama.ai/mcp/servers/bn5q4b0ett/badge" alt="Markdownify Server MCP server" /></a>

## 功能特性

- 多种文件类型转换为Markdown:
  - PDF
  - 图像（带描述）
  - 音频（带转录）
  - DOCX
  - XLSX
  - PPTX
- Web内容转换为Markdown:
  - YouTube视频转录
  - Bing搜索结果
  - 一般网页
- 社交媒体内容转换:
  - Twitter/X帖子
  - Instagram帖子
  - LinkedIn内容
  - Facebook帖子
  - Reddit帖子
- 图表生成:
  - 流程图
  - 序列图
  - 类图
  - ER图
  - 甘特图
  - 数据图表
  - 思维导图
- 检索现有Markdown文件

## 快速开始

1. 克隆此仓库
2. 安装依赖:
   ```
   pnpm install
   ```

注意: 这也将安装`uv`和相关Python依赖。

3. 编译项目:
   ```
   pnpm run build
   ```
4. 启动服务器:
   ```
   pnpm start
   ```

## HTTP服务

服务器现在同时提供HTTP API接口和MCP接口，默认端口是3005（如果被占用会自动尝试3006-3015）。

### HTTP端点

- `GET /health` - 健康检查
- `POST /tools/{toolName}` - 工具执行

### 使用HTTP API示例

```bash
# 检查服务健康状态
curl http://localhost:3005/health

# 网页转Markdown
curl -X POST -H "Content-Type: application/json" \
  -d '{"url": "https://example.com"}' \
  http://localhost:3005/tools/webpage-to-markdown

# 图表生成
curl -X POST -H "Content-Type: application/json" \
  -d '{"description": "开始->处理->结束", "diagramType": "flowchart"}' \
  http://localhost:3005/tools/diagram-to-markdown

# 社交媒体内容转换
curl -X POST -H "Content-Type: application/json" \
  -d '{"url": "https://twitter.com/user/status/123456789", "platform": "twitter"}' \
  http://localhost:3005/tools/social-to-markdown
```

## 开发

- 使用`pnpm run dev`在监视模式下启动TypeScript编译器
- 修改`src/server.ts`以自定义服务器行为
- 添加或修改`src/tools.ts`中的工具

## 与桌面应用集成

要将此服务器与桌面应用集成，请在应用的服务器配置中添加以下内容:

```js
{
  "mcpServers": {
    "markdownify": {
      "command": "node",
      "args": [
        "{ABSOLUTE PATH TO FILE HERE}/dist/index.js"
      ],
      "env": {
        // 默认情况下，服务器将使用`uv`的默认安装位置
        "UV_PATH": "/path/to/uv"
      }
    }
  }
}
```

## 可用工具

### 基础文档转换工具

- `youtube-to-markdown`: 将YouTube视频转换为Markdown
- `pdf-to-markdown`: 将PDF文件转换为Markdown
- `bing-search-to-markdown`: 将Bing搜索结果转换为Markdown
- `webpage-to-markdown`: 将网页转换为Markdown
- `image-to-markdown`: 将图像转换为带元数据的Markdown
- `audio-to-markdown`: 将音频文件转换为带转录的Markdown
- `docx-to-markdown`: 将DOCX文件转换为Markdown
- `xlsx-to-markdown`: 将XLSX文件转换为Markdown
- `pptx-to-markdown`: 将PPTX文件转换为Markdown
- `get-markdown-file`: 检索现有Markdown文件

### 扩展工具

- `social-to-markdown`: 将社交媒体内容转换为Markdown
  ```json
  {
    "url": "https://twitter.com/user/status/123456789",
    "platform": "twitter", 
    "options": {
      "includeResponses": true,
      "responsesLimit": 5,
      "includeMetrics": true,
      "extractMedia": true
    }
  }
  ```

- `diagram-to-markdown`: 从描述或结构化数据生成图表
  ```json
  {
    "description": "流程图：开始->处理->结束",
    "diagramType": "flowchart", 
    "options": {
      "direction": "TB",
      "theme": "default"
    }
  }
  ```

## 贡献

欢迎贡献！请随时提交Pull Request。

## 许可证

此项目使用MIT许可证 - 有关详细信息，请参阅[LICENSE](LICENSE)文件。
